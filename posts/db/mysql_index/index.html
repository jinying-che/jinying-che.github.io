<!doctype html><html lang=en><head><title>MySQL Index :: </title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MySQL Index Overview"><meta name=keywords content="computer,ai,network"><meta name=robots content="noodp"><link rel=canonical href=https://jinying-che.github.io/posts/db/mysql_index/><link rel=stylesheet href=https://jinying-che.github.io/styles.css><link rel="shortcut icon" href=https://jinying-che.github.io/img/theme-colors/green.png><link rel=apple-touch-icon href=https://jinying-che.github.io/img/theme-colors/green.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="MySQL Index"><meta property="og:description" content="MySQL Index Overview"><meta property="og:url" content="https://jinying-che.github.io/posts/db/mysql_index/"><meta property="og:site_name" content><meta property="og:image" content="https://jinying-che.github.io/img/favicon/green.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2019-06-05 11:48:53 +0800 +0800"></head><body class=green><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>jinying-che:~#</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/posts>Home</a></li><li><a href=/tags>Tags</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/posts>Home</a></li><li><a href=/tags>Tags</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=https://jinying-che.github.io/posts/db/mysql_index/>MySQL Index</a></h1><div class=post-meta><time class=post-date>2019-06-05 ::</time></div><span class=post-tags>#<a href=https://jinying-che.github.io/tags/database/>database</a>&nbsp;
#<a href=https://jinying-che.github.io/tags/mysql/>mysql</a>&nbsp;</span><div class=post-content><div><p>This post is based on MySQL <strong>InnoDB</strong> Storage Engine.</p><h2 id=type>Type<a href=#type class=hanchor arialabel=Anchor>&#8983;</a></h2><h4 id=1-cluster-index>1. Cluster Index<a href=#1-cluster-index class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Each InnoDB table has a special index called the <strong>clustered index</strong> that stores row data. Typically, the clustered index is synonymous with the <strong>primary key</strong>.</p><h4 id=2-secondery-index>2. Secondery Index<a href=#2-secondery-index class=hanchor arialabel=Anchor>&#8983;</a></h4><p>In InnoDB, each record in a <strong>secondary index</strong> contains the primary key columns for the row, as well as the columns specified for the secondary index. InnoDB uses this primary key value to search for the row in the clustered index.</p><p>Typical Quering Flow: select with index &ndash;> secondary index -> primary index -> data row</p><h2 id=data-structure>Data Structure<a href=#data-structure class=hanchor arialabel=Anchor>&#8983;</a></h2><p>The index data is organized in <strong>B+ Tree</strong> which is common data structure widely used in the relation databases. B+ Tree is upgrading from B Tree, it eliminates the drawback B-tree used for indexing by storing data pointers only at the leaf nodes of the tree.</p><h3 id=b-tree-vs-b-tree>B+ Tree vs B Tree<a href=#b-tree-vs-b-tree class=hanchor arialabel=Anchor>&#8983;</a></h3><p><img alt="b tree vs b+ tree" src=/images/btree.svg></p><h5 id=similarity>Similarity<a href=#similarity class=hanchor arialabel=Anchor>&#8983;</a></h5><ol><li>Both B Tree and B+ Tree are balanced tree. (Efficiency for quering, lower the tree height, less the disk access)</li><li>All leaf nodes are at the same level.</li></ol><h5 id=difference>Difference<a href=#difference class=hanchor arialabel=Anchor>&#8983;</a></h5><ol><li><strong>B Tree</strong> stores the data pointer (pointing to the cluster index) in all nodes, whereas, <strong>B+ Tree</strong> only stores in leaf nodes. (less space cost means internal node is able to store more index, hence tree is lower and more efficient)</li><li>All leaf nodes of <strong>B+ Tree</strong> are linked together in a linked list. This makes <strong>range queries</strong> efficient.</li><li>In a <strong>B+ Tree</strong>, every key appears twice, once in the internal nodes and once in the leaf nodes, whereas, in a <strong>B Tree</strong>, it&rsquo;s once.</li></ol><h2 id=leftmost-prefix-index>Leftmost Prefix Index<a href=#leftmost-prefix-index class=hanchor arialabel=Anchor>&#8983;</a></h2><p>If the table has a multiple-column index, any leftmost prefix of the index can be used by the optimizer to look up rows.</p><h2 id=referrence>Referrence<a href=#referrence class=hanchor arialabel=Anchor>&#8983;</a></h2><ul><li>MySQL 8.0 Reference Manual:<ul><li><a href=https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html>https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html</a></li><li><a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-index-types.html>https://dev.mysql.com/doc/refman/8.0/en/innodb-index-types.html</a></li><li><a href=https://dev.mysql.com/doc/refman/8.0/en/sorted-index-builds.html>https://dev.mysql.com/doc/refman/8.0/en/sorted-index-builds.html</a></li></ul></li></ul></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://jinying-che.github.io/posts/network/https/><span class=button__icon>←</span>
<span class=button__text>HTTPS</span>
</a></span><span class="button next"><a href=https://jinying-che.github.io/posts/network/http/><span class=button__text>HTTP</span>
<span class=button__icon>→</span></a></span></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2024 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>